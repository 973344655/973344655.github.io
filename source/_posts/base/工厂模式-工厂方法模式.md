---
title: 设计模式--工厂模式二(工厂方法模式)
date: 2019-11-13 10:56:05
tags: [base]
---

## 1.工厂方法模式

因为简单工厂模式的缺点，如不能太复杂的条件，违反开放-关闭原则(对拓展开放，对修改关闭)等，
所以工厂方法模式肯定会避免这些问题。

工厂方法模式将工厂抽象，提供一个公共生产方法(接口或抽象类)，每种产品有自己的专属生产工厂。
这样，当新添加一种产品时，直接新建一个具体的工厂和产品就行，不用改其它代码。对拓展开放，对修改关闭，
符合开放-关闭原则。

## 2.角色

- 抽象工厂

工厂的父类或接口。

- 具体工厂

具体的每个工厂，不同工厂生产不同产品。

- 抽象产品

产品的父类。

- 具体产品

具体的每种产品。

## 3.例子

```
//产品的抽象接口
interface MyProduct {
    void print();
}

//不同的产品
class ProDuct1 implements MyProduct{
    @Override
    public void print(){
        System.out.println("product1");
    }
}

class ProDuct2 implements MyProduct{
    @Override
    public void print(){
        System.out.println("product2");
    }
}
//抽象工厂
interface MyFactory{

    void create();
}

//具体的生产工厂
class MyFactory1 implements  MyFactory{

    @Override
    public void create() {
        new ProDuct1().print();
    }
}

class MyFactory2 implements  MyFactory{

    @Override
    public void create() {
        new ProDuct2().print();
    }
}



public class MyFactoryDemo{
    public static void main(String... args){
        //根据不同需求(参数)得到不同产品
        MyFactory factory1 = new MyFactory1();
        factory1.create();
        MyFactory factory2 = new MyFactory2();
        factory2.create();
    }
}
```

## 4.理解

工厂方法模式和简单工厂模式的区别就是，工厂方法模式将工厂也进行了抽象，每种工厂只生产特定的产品。

当然，每个工厂只能创建特定产品，有时候还是会觉得不够方便(我觉得已经很好用了)。
