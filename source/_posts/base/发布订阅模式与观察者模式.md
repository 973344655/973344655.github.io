---
title: pub/sub模式和观察者模式
date: 2019-10-09 16:43:55
tags: [base]
---

知乎高赞回答:https://www.zhihu.com/question/23486749

# 什么是观察者模式

观察者订阅一个对象，当对象状态发生改变，直接告诉观察者。

![obeverse](http://67.216.218.49:8000/file/blogs/base/design-patterns/obverse_01.png)

# 什么是发布订阅模式

观察者订阅一个对象，但是不是直接订阅对象，而是订阅事件池中的该对象信息，对象发生改变时，将变更信息放到事件池， 观察者从事件池中获取变更。

![pub_sub](http://67.216.218.49:8000/file/blogs/base/design-patterns/pub_sub_01.png)

# 区别

为什么要多加个中间层？中间层充当什么角色，事件管理?调度中心？有什么好处？<br>

个人理解,不一定准确:<br>

观察者得一直盯着对象，观察它是否发生变化。 发布订阅可以一直盯着，也可以先干自己的事情，隔一段时间想起来了，再去事件池中看有无消息，应用场景更广。如，消息队列，观察者(既消费者)离线后，事件信息不会丢失,上线后还能继续处理.
